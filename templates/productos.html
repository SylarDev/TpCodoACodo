<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Productos</title>
</head>
<body>
    <div class="navbar">
        <a href="{{ url_for('index') }}">Inicio</a>
        <a href="{{ url_for('productos') }}">Productos</a>
        <a href="{{ url_for('trabajaConNosotros') }}">Trabajá con nosotros</a>
        <a href="{{ url_for('contactenos') }}">Contáctenos</a>
        
        <p class="hora"><span id="hora"></span>&nbsp;<span id="fecha"></span></p>
    </div>

    <h1>Productos de Materiales de Construcción</h1>
    
    <!-- Formulario para agregar productos -->
    <form action="{{ url_for('agregar_producto') }}" method="post">
        <label for="nueva_descripcion">Descripción:</label>
        <input type="text" id="nueva_descripcion" name="nueva_descripcion" required>

        <label for="nueva_cantidad">Cantidad:</label>
        <input type="number" id="nueva_cantidad" name="nueva_cantidad" required>

        <label for="nuevo_precio">Precio:</label>
        <input type="number" step="0.01" id="nuevo_precio" name="nuevo_precio" required>

        <label for="nuevo_proveedor">Proveedor:</label>
        <input type="text" id="nuevo_proveedor" name="nuevo_proveedor" required>

        <!-- Puedes agregar más campos según tus necesidades -->

        <button type="submit">Agregar Producto</button>
    </form>

    <div class="products-container">
        {% if products %}
            {% for product in products %}
                <div class="product">
                    <img class="product-image" src="{{ url_for('static', filename='images/' + product.imagen_url) if product.imagen_url else '' }}" alt="{{ product.descripcion }}">
                    <h2>{{ product.descripcion }}</h2>
                    <p>{{ product.cantidad }} unidades disponibles</p>
                    <p>Precio: ${{ product.precio }} por unidad</p>

                    <form action="{{ url_for('modificar_producto') }}" method="post">
                        <input type="hidden" name="codigo" value="{{ product.codigo }}">
                        <button type="submit">Modificar</button>
                    </form>

                    <form action="{{ url_for('eliminar_producto') }}" method="post">
                        <input type="hidden" name="codigo" value="{{ product.codigo }}">
                        <button type="submit">Eliminar</button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <p>No hay productos disponibles.</p>
        {% endif %}
    </div>

    <script src="{{ url_for('static', filename='src/fechaHora.js') }}"></script>
    
    <footer>
        <p>Contacto: info@codoaconstrucciones.com - &copy; 2023 Codo a Codo Construcciones</p>
    </footer>
</body>
</html>
